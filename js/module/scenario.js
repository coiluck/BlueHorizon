// scenario.js
import { changeBackgroundImage } from './scenarioAction.js';

export const openingScenario = [

  { text: '酸素残量も低くはないし、安全限界まではもう少し余裕がありそうだった。' },
  {
    text: 'このまま浮上して街に戻るか、それとももう少しだけ探索を続けるか……',
    choiceId: 'isContinueSalvage'
  },
  { text: 'あなたは選択を終えた。' },
  { text: 'これは共通ルートの続きです。' },
  { text: 'ゲームクリア！' }
];

export const openingChoices = {
  isContinueSalvage: [
    {
      buttonText: 'サルベージを切り上げて、街へ戻る',
      branch: [
        { text: '（無理は禁物だよね）',
          speaker: 'ミナ'
        },
        { text: '私はバラストタンクの排水を開始し、セレスティア号を浮上モードに切り替えた。' },
        { text: '深度計の数値がゆっくりと減っていく。' },
        { text: '150メートル、120メートル、90メートル……。' },
        { text: '深く暗い青から、光の差し込む明るい青へ。' },
        { text: 'ゆっくりと浮上していくこの時間は、何度経験しても少しだけ心が安らぐ。' },
        { text: 'ごぽごぽ、と気泡の弾ける音が大きく響き、ついにセレスティア号は海面にその姿を現した。',
          action: () => {
            changeBackgroundImage('opening', 'horizon1.webp');
          }
        },
        { text: '視界いっぱいに広がるのは、どこまでも続く水平線と太陽の光を反射してきらめく穏やかな海。' },
        { text: 'そして私の故郷、「汐凪の街」。' },
        { text: 'ここはかつて大型船だったものの残骸や、引き揚げられた鋼材を組み合わせて作られた集落だ。' },
        { text: '小さな島に、今では手に入れるのも難しい浄水装置をつけて暮らしている。' },
        { text: '決して裕福ではないけれど、人々が懸命に生きているのどかな港町だ。' },
        { text: '私は慣れた手つきでセレスティア号を誘導し、街のドックへと船を進めた。' },
        { text: 'セレスティア号を固定アームに接続し、エンジンを停止させる。' },
        { text: '途端に静寂が訪れる。ふぅ、と長い息が漏れた。' },
        { text: 'これで今日の仕事は終わりだ。' },
        { text: 'ハッチのロックを解除すると、ぷしゅー、という小気味良い音と共に、外の空気が流れ込んできた。' },
        { text: '湿った潮の匂いと、機械油の匂いが混じった、懐かしい街の空気。' },
        { text: '私はゆっくりと梯子を降り、硬い地面を踏みしめた。' },
        { text: 'さて、これからどうしようか。',
          choiceId: 'whereToGo'
        },
      ]
    },
    {
      buttonText: 'もう少しだけ、探索を続ける',
      branch: [
        { text: '（せっかくここまで潜ったんだ。もう少しだけ、探索しよう）',
          speaker: 'ミナ'
        },
        { text: '私は操舵席の横に並ぶバラスト制御レバーへ手を伸ばす。' },
        { text: '「主バラスト、ベント開放。注水開始……。」' },
        { text: '船体の外殻に備えられたタンクへと重い海水が流れ込む低いうなりが響く。' },
        { text: '船体の浮力がゆっくり失われ、計器の針が沈降を示す。' },
        { text: '「トリムタンク、艦首下げ二度。」' },
        { text: '艦首が少しずつ沈み、姿勢が安定したセレスティア号は暗い海へと進んでいく。' },
        { text: 'ヘッドライトが照らす光の筋だけが、海の暗闇を切り裂いて進む。' },
        { text: 'ギシッ……と、セレスティア号の船体が水圧に軋む音が響く。' },
        { text: 'お父さんがくれたこの潜水艇は、他のどんなサルベージャーの船よりも深く潜れる。' },
        { text: 'それでも、この音を聞くといつも、心臓が小さく跳ねるのを止められない。' },
        { text: '息を深く吸い、前方を見る' },
        { text: 'かつては地上の光を浴びていたはずのビル群の影が、今は巨大な海山のようにも見える。' },
        { text: '（あそこなら、何か残っているかも……）' },
        { text: '視線の先に、外壁が大きく崩落したビルが見えた。' },
        { text: 'オフィスだったのだろうか、フロアの断面が暗い口を開けている。' },
        { text: '私は慎重に操縦桿を操作し、舞い上がる泥に気をつけながら、瓦礫の隙間を縫うようにして潜水艇を寄せた。' },
        { text: 'ヘッドライトの光が、ビルの中を照らし出す。' },
        { text: 'そこはまるで、時が止まったまま沈んだみたいだった。' },
        { text: '（お父さんがいたら、全然違うって言うのかな）',
          speaker: 'ミナ'
        },
        { text: '私は「蒼い沈黙」前の世界を知らない。' },
        { text: 'お父さんが見ていたのは、こんな景色だったのだろうか。' },
        { text: 'いいや、違う。' },
        { text: 'お父さんが知っているのは、ここに光が満ち、人々が働き、笑い声が響いていた頃の姿だ。' },
        { text: '私が見ているのは、その全てが失われた後の、静かな骸。' },
        { text: 'ヘッドライトの光が、壁に掛けられたままの額縁を照らした。' },
        { text: '中の写真はとうに溶けてしまい、何が飾られていたのかを知る術はない。' },
        { text: '家族の写真だったのかもしれないし、あるいは、輝かしい功績を称える賞状だったのかもしれない。' },
        { text: 'そのすぐそばを、銀色の鱗を持つ小さな魚の群れが、まるで忙しそうに行き交うオフィスワーカーのように通り過ぎていった。' },
        { text: '皮肉な光景に私は小さく息を吐き、周りをもう一度見渡した。' },
        { text: '泥をかぶったデスクや横倒しになったキャビネットが散乱している。' },
        { text: '誰かのものだったマグカップは、奇跡的に形を保ったまま転がっていた。' },
        { text: 'さて、どこを調べようか',
          choiceId: 'whereToSearch'
        },
      ]
    }
  ],
  opening: [
    {
      buttonText: 'aaa',
      branch: [
        { text: 'aa1' }
      ]
    },
    {
      buttonText: 'bbb',
      branch: [
        { text: 'bb1' }
      ]
    }
  ],
  whereToSearch: [
    {
      buttonText: 'デスクの上を調べる',
      branch: [
        { text: 'aa1' }
      ]
    },
    {
      buttonText: '倒れたキャビネットを調べる',
      branch: [
        { text: 'bb1' }
      ]
    }
  ],
  whereToGo: [
    {
      buttonText: 'ギル爺さんの作業場へ行く',
      branch: [
        { text: 'aa1' }
      ]
    },
    {
      buttonText: '自分の部屋で少し休む',
      branch: [
        { text: 'aa1' }
      ]
    },
    {
      buttonText: '街の広場に行く',
      branch: [
        { text: 'aa1' }
      ]
    }
  ]
};